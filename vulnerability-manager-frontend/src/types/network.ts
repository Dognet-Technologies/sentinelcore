// Network topology types for Entuity-style visualization

export interface NetworkDevice {
  id: string;
  name: string;
  type: 'router' | 'switch' | 'server' | 'firewall' | 'gateway' | 'endpoint' | 'wireless' | 'unknown';
  status: 'online' | 'offline' | 'warning' | 'maintenance' | 'unknown';
  ipAddress: string;
  macAddress?: string;
  location?: {
    lat: number;
    lng: number;
    address?: string;
  };
  metrics?: {
    cpuUsage?: number;
    memoryUsage?: number;
    diskUsage?: number;
    uptime?: number;
    bandwidth?: number;
  };
  severity: 'critical' | 'high' | 'medium' | 'low' | 'info' | 'none';
  incidentCount: number;
  lastSeen: string;
  manufacturer?: string;
  model?: string;
  osVersion?: string;
  ports?: NetworkPort[];
}

export interface NetworkPort {
  id: string;
  number: number;
  name: string;
  type: string;
  status: 'up' | 'down' | 'disabled';
  speed: number; // Mbps
  duplex: 'full' | 'half' | 'auto';
}

export interface NetworkLink {
  id: string;
  source: string; // device id
  target: string; // device id
  sourcePort?: string;
  targetPort?: string;
  status: 'active' | 'inactive' | 'degraded';
  utilization: number; // 0-100
  bandwidth: number; // Mbps
  latency?: number; // ms
  packetLoss?: number; // percentage
  type: 'wired' | 'wireless' | 'virtual';
}

export interface NetworkTopology {
  devices: NetworkDevice[];
  links: NetworkLink[];
  lastUpdated: string;
}

export interface NetworkMetrics {
  totalDevices: number;
  onlineDevices: number;
  offlineDevices: number;
  criticalIncidents: number;
  warningIncidents: number;
  averageCpuUsage: number;
  averageMemoryUsage: number;
  totalBandwidth: number;
  usedBandwidth: number;
}

export interface TopologyFilter {
  deviceType?: string[];
  status?: string[];
  severity?: string[];
  location?: string;
  search?: string;
}

// Dashlet types
export type DashletType = 'keyinfo' | 'chart' | 'table' | 'map' | 'topology';

export interface Dashlet {
  id: string;
  type: DashletType;
  title: string;
  position: { x: number; y: number };
  size: { width: number; height: number };
  config: Record<string, any>;
}

export interface Dashboard {
  id: string;
  name: string;
  description?: string;
  type: 'static' | 'dynamic';
  dashlets: Dashlet[];
  createdAt: string;
  updatedAt: string;
}
