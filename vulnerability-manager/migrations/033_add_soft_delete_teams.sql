-- Migration 033: Add soft delete support for teams
-- Date: 2025-12-17
-- Purpose: Add deleted_at column to teams table for soft delete functionality

ALTER TABLE teams ADD COLUMN IF NOT EXISTS deleted_at TIMESTAMPTZ DEFAULT NULL;

CREATE INDEX IF NOT EXISTS idx_teams_deleted_at ON teams(deleted_at) WHERE deleted_at IS NULL;

COMMENT ON COLUMN teams.deleted_at IS 'Timestamp when team was soft-deleted. NULL means active team.';
